<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="project_issue_contract_report.report_contract_activity_def">
            <t t-call="report.external_layout">
                <div class="page">
                    <t t-foreach="docs" t-as="o">
                        <p>
                        <h2>
                            <span>Suport and maintenance history</span>
                        </h2>
			            <div class="row mt32 mb32">
			                <div class="col-xs-2" t-if="o.name">
			                    <strong>Description:</strong>
			                    <p t-field="o.name"/>
			                </div>
			                <div class="col-xs-2" t-if="o.name">
			                    <strong>Report Date:</strong>
			                    <p t-field="o.name"/>
			                </div>
			                <div class="col-xs-2" t-if="o.quantity_max">
			                    <strong>Quantity of hours bought:</strong>
			                    <p t-field="o.quantity_max"/>
			                </div>
			                <div class="col-xs-2" t-if="o.hours_quantity">
			                    <strong>Quantity of hours used:</strong>
			                    <p t-field="o.hours_quantity"/>
			                </div>
			                <div class="col-xs-2" t-if="o.remaining_hours">
			                    <strong>Remaining hours to invoice:</strong>
			                    <p t-field="o.remaining_hours"/>
			                </div>
			            </div>
                            
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Description</th>
                                        <th>Quantity</th>
                                        <th>Invoicing</th>
                                        <th>Deduced</th>
                                    </tr>
                                </thead>
                                <tbody class="invoice_tbody">
                                    <tr t-foreach="o.line_ids"
                                        t-as="line">
	                                        <td>
	                                          <span t-field="line.date" />
	                                        </td>
	                                        <td>
	                                          <span t-field="line.name" />
	                                        </td>
	                                        <td>
	                                          <span t-esc="round(line.unit_amount, 2) or '0.0'" />
	                                        </td>
	                                        <td>
	                                          <span t-field="line.to_invoice.customer_name" />
	                                        </td>
	                                        <td>
	                                          <span t-esc="round((line.unit_amount and line.to_invoice) and (line.unit_amount - (line.unit_amount * line.to_invoice.factor) / 100), 2) or '0.0' " />
	                                        </td>
                                     </tr>
                                </tbody>
                            </table>
                        </p>
                        <p style="page-break-after:always"></p>
                    </t>
                </div>
            </t>
        </template>

        <template id="project_issue_contract_report.report_contract_activity_qweb">
            <style type="text/css">
                .col-separator { border-right: 3px solid lightgrey !important; }
                .large-text { min-height: 50px !important;}
            </style>
            <t t-call="report.html_container">
                <t t-foreach="doc_ids" t-as="doc_id">
                    <t
                        t-raw="translate_doc(doc_id, doc_model, 'user_id.lang', 'project_issue_contract_report.report_contract_activity_def')" />
                </t>
            </t>
        </template>
    </data>
</openerp>

